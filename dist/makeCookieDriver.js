'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.makeCookieDriver=makeCookieDriver;var _xstream=require('xstream'),_xstream2=_interopRequireDefault(_xstream),_jsCookie=require('js-cookie'),_jsCookie2=_interopRequireDefault(_jsCookie);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function CookieWrapper(){var a={};this.action=function(b,c,d){var e=_jsCookie2.default[c].apply(_jsCookie2.default,_toConsumableArray(d)),f=a[b];f&&f(e)},this.on=function(b,c){a[b]=c}}function makeCookieDriver(){var b=new CookieWrapper;return function(c){return c.addListener({next:function next(d){b.action(d.category,d.action,d.params)},error:function error(){},complete:function complete(){}}),{select:function select(d){return _xstream2.default.create({start:function start(e){b.on(d,function(f){return e.next(f)})},stop:function stop(){}})}}}}